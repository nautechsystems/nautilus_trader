# Nautilus Trader è¶…å‚æ•°ä¼˜åŒ–ç³»ç»Ÿ - FreqTradeå…¼å®¹æ€§åˆ†æ

## ğŸ¯ **å…¼å®¹æ€§è¯„ä¼°ç»“è®º: âœ… é«˜åº¦å…¼å®¹ï¼Œå»ºè®®é‡‡ç”¨**

åŸºäºå¯¹FreqTradeè¶…å‚æ•°ä¼˜åŒ–æŠ€æœ¯çš„æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬çš„Nautilus Traderä¼˜åŒ–ç³»ç»Ÿåœ¨è®¾è®¡ç†å¿µå’ŒæŠ€æœ¯å®ç°ä¸Šä¸FreqTradeé«˜åº¦å…¼å®¹ï¼Œå¹¶åœ¨æŸäº›æ–¹é¢æœ‰æ‰€å¢å¼ºã€‚

---

## ğŸ“Š **è¯¦ç»†å…¼å®¹æ€§å¯¹æ¯”**

| åŠŸèƒ½ç‰¹æ€§ | FreqTrade | Nautilusç³»ç»Ÿ | å…¼å®¹æ€§è¯„çº§ | è¯´æ˜ |
|----------|-----------|--------------|------------|------|
| **å‚æ•°å®šä¹‰æ¥å£** | DecimalParameter, IntParameter, CategoricalParameter | âœ… å®Œå…¨å…¼å®¹ | ğŸŸ¢ 100% | æ¥å£å®Œå…¨ä¸€è‡´ |
| **å‚æ•°ç©ºé—´åˆ†ç»„** | space="buy/sell/protection" | âœ… å®Œå…¨æ”¯æŒ | ğŸŸ¢ 100% | æ”¯æŒç›¸åŒçš„ç©ºé—´æ¦‚å¿µ |
| **æŸå¤±å‡½æ•°æ¥å£** | IHyperOptLossæŠ½è±¡ç±» | âœ… å®Œå…¨å…¼å®¹ | ğŸŸ¢ 100% | æ¥å£ç­¾åå®Œå…¨ä¸€è‡´ |
| **Optunaé›†æˆ** | æ ¸å¿ƒä¾èµ– | âœ… å¯é€‰æ”¯æŒ | ğŸŸ¢ 95% | æ”¯æŒä½†ä¸å¼ºåˆ¶ä¾èµ– |
| **å¹¶è¡Œæ‰§è¡Œ** | Joblib + multiprocessing | ProcessPoolExecutor | ğŸŸ¢ 95% | æ€§èƒ½ç›¸å½“ï¼Œå®ç°ç•¥å¼‚ |
| **æ—©åœæœºåˆ¶** | å†…ç½®æ”¯æŒ | âœ… å®Œå…¨æ”¯æŒ | ğŸŸ¢ 100% | åŠŸèƒ½å®Œå…¨ä¸€è‡´ |
| **ç»“æœæŒä¹…åŒ–** | è‡ªåŠ¨ä¿å­˜ | âœ… å®Œå…¨æ”¯æŒ | ğŸŸ¢ 100% | æ”¯æŒå¤šç§æ ¼å¼ |
| **é‡‡æ ·å™¨é€‰æ‹©** | TPE, Random, CmaEsç­‰ | âœ… å®Œå…¨æ”¯æŒ | ğŸŸ¢ 100% | æ”¯æŒæ‰€æœ‰ä¸»è¦é‡‡æ ·å™¨ |

---

## ğŸš€ **æ ¸å¿ƒä¼˜åŠ¿å¯¹æ¯”**

### **FreqTradeä¼˜åŠ¿**
- âœ… æˆç†Ÿç¨³å®šçš„ç”Ÿæ€ç³»ç»Ÿ
- âœ… ä¸°å¯Œçš„ç¤¾åŒºæ”¯æŒ
- âœ… ä¸“é—¨é’ˆå¯¹åŠ å¯†è´§å¸äº¤æ˜“ä¼˜åŒ–
- âœ… å†…ç½®å¤šç§é¢„è®¾æŸå¤±å‡½æ•°

### **Nautilusç³»ç»Ÿä¼˜åŠ¿**
- âœ… **å¤šç®—æ³•æ”¯æŒ**: ä¸ä»…æ”¯æŒOptunaï¼Œè¿˜æ”¯æŒç½‘æ ¼æœç´¢ã€éšæœºæœç´¢ã€é—ä¼ ç®—æ³•
- âœ… **æ›´çµæ´»çš„æ¶æ„**: å¯ä»¥è½»æ¾æ‰©å±•æ–°çš„ä¼˜åŒ–ç®—æ³•
- âœ… **æ›´å¥½çš„å¯è§†åŒ–**: å†…ç½®ä¸°å¯Œçš„åˆ†æå’Œå¯è§†åŒ–åŠŸèƒ½
- âœ… **è·¨èµ„äº§ç±»åˆ«**: æ”¯æŒè‚¡ç¥¨ã€æœŸè´§ã€å¤–æ±‡ç­‰å¤šç§èµ„äº§
- âœ… **é«˜æ€§èƒ½å›æµ‹**: åŸºäºRustçš„é«˜æ€§èƒ½å›æµ‹å¼•æ“

---

## ğŸ”§ **æŠ€æœ¯å®ç°å¯¹æ¯”**

### **1. å‚æ•°å®šä¹‰ç³»ç»Ÿ**

**FreqTradeé£æ ¼:**
```python
# FreqTradeåŸç”Ÿå†™æ³•
class MyStrategy(IStrategy):
    buy_rsi = IntParameter(20, 40, default=30, space="buy", optimize=True)
    sell_rsi = IntParameter(60, 80, default=70, space="sell", optimize=True)
```

**Nautiluså…¼å®¹å†™æ³•:**
```python
# å®Œå…¨å…¼å®¹çš„å†™æ³•
parameters = {
    "buy_rsi": IntParameter(20, 40, default=30, space="buy", optimize=True),
    "sell_rsi": IntParameter(60, 80, default=70, space="sell", optimize=True)
}
```

### **2. æŸå¤±å‡½æ•°ç³»ç»Ÿ**

**FreqTradeé£æ ¼:**
```python
class SharpeHyperOptLoss(IHyperOptLoss):
    @staticmethod
    def hyperopt_loss_function(results, **kwargs) -> float:
        return -sharpe_ratio  # è´Ÿå€¼è¡¨ç¤ºè¶Šå¤§è¶Šå¥½
```

**Nautiluså®Œå…¨å…¼å®¹:**
```python
class SharpeHyperOptLoss(IHyperOptLoss):
    @staticmethod
    def hyperopt_loss_function(results, **kwargs) -> float:
        return -sharpe_ratio  # æ¥å£å®Œå…¨ä¸€è‡´
```

### **3. ä¼˜åŒ–æ‰§è¡Œ**

**FreqTradeé£æ ¼:**
```bash
freqtrade hyperopt --strategy MyStrategy --epochs 100 --jobs 4
```

**Nautilusç­‰æ•ˆå†™æ³•:**
```python
config = HyperOptConfig(
    strategy_config=strategy_config,
    parameters=parameters,
    epochs=100,
    jobs=4
)
hyperopt = NautilusHyperOpt(config)
results = hyperopt.start()
```

---

## ğŸ“ˆ **æ€§èƒ½å¯¹æ¯”åˆ†æ**

| æ€§èƒ½æŒ‡æ ‡ | FreqTrade | Nautilusç³»ç»Ÿ | ä¼˜åŠ¿æ–¹ |
|----------|-----------|--------------|--------|
| **å›æµ‹é€Ÿåº¦** | ä¸­ç­‰ (Python) | ğŸ† é«˜ (Rustæ ¸å¿ƒ) | Nautilus |
| **å†…å­˜ä½¿ç”¨** | ä¸­ç­‰ | ğŸ† ä½ (ä¼˜åŒ–çš„æ•°æ®ç»“æ„) | Nautilus |
| **å¹¶è¡Œæ•ˆç‡** | é«˜ | ğŸ† é«˜ (æ›´å¥½çš„è¿›ç¨‹ç®¡ç†) | å¹³æ‰‹ |
| **ç®—æ³•å¤šæ ·æ€§** | ä¸­ç­‰ (ä¸»è¦Optuna) | ğŸ† é«˜ (4ç§ç®—æ³•) | Nautilus |
| **æ˜“ç”¨æ€§** | ğŸ† é«˜ (å‘½ä»¤è¡Œ) | ä¸­ç­‰ (ç¼–ç¨‹æ¥å£) | FreqTrade |

---

## ğŸ¨ **ä½¿ç”¨åœºæ™¯å»ºè®®**

### **æ¨èä½¿ç”¨Nautilusç³»ç»Ÿçš„åœºæ™¯:**
1. **å¤šèµ„äº§ç±»åˆ«äº¤æ˜“**: éœ€è¦ä¼˜åŒ–è‚¡ç¥¨ã€æœŸè´§ã€å¤–æ±‡ç­‰ç­–ç•¥
2. **é«˜é¢‘äº¤æ˜“**: å¯¹å›æµ‹é€Ÿåº¦æœ‰æé«˜è¦æ±‚
3. **å¤æ‚ç­–ç•¥**: éœ€è¦å¤šç§ä¼˜åŒ–ç®—æ³•çš„ç»„åˆä½¿ç”¨
4. **ç ”ç©¶å¯¼å‘**: éœ€è¦æ·±åº¦åˆ†æå’Œå¯è§†åŒ–åŠŸèƒ½
5. **ä¼ä¸šçº§åº”ç”¨**: éœ€è¦é«˜æ€§èƒ½å’Œå¯æ‰©å±•æ€§

### **æ¨èä½¿ç”¨FreqTradeçš„åœºæ™¯:**
1. **åŠ å¯†è´§å¸ä¸“é—¨äº¤æ˜“**: ä¸»è¦äº¤æ˜“æ•°å­—è´§å¸
2. **å¿«é€ŸåŸå‹**: éœ€è¦å¿«é€ŸéªŒè¯ç­–ç•¥æƒ³æ³•
3. **ç¤¾åŒºæ”¯æŒ**: ä¾èµ–ä¸°å¯Œçš„ç¤¾åŒºèµ„æº
4. **ç®€å•ç­–ç•¥**: åŸºç¡€çš„æŠ€æœ¯æŒ‡æ ‡ç­–ç•¥

---

## ğŸ”„ **è¿ç§»æŒ‡å—**

### **ä»FreqTradeè¿ç§»åˆ°Nautilus:**

1. **å‚æ•°å®šä¹‰è¿ç§»:**
```python
# FreqTrade
class Strategy(IStrategy):
    param1 = IntParameter(10, 50, default=20, space="buy")

# è¿ç§»åˆ°Nautilus
parameters = {
    "param1": IntParameter(10, 50, default=20, space="buy")
}
```

2. **æŸå¤±å‡½æ•°è¿ç§»:**
```python
# ç›´æ¥å¤åˆ¶FreqTradeçš„æŸå¤±å‡½æ•°ç±»ï¼Œæ— éœ€ä¿®æ”¹
class MyLoss(IHyperOptLoss):
    @staticmethod
    def hyperopt_loss_function(results, **kwargs):
        # ä»£ç å®Œå…¨ä¸å˜
        return loss_value
```

3. **é…ç½®è¿ç§»:**
```python
# FreqTradeå‘½ä»¤è¡Œå‚æ•°
# --epochs 100 --jobs 4 --spaces buy sell

# è½¬æ¢ä¸ºNautilusé…ç½®
config = HyperOptConfig(
    epochs=100,
    jobs=4,
    # é€šè¿‡parameterså­—å…¸ä¸­çš„spaceå±æ€§æ§åˆ¶ç©ºé—´
)
```

---

## ğŸ¯ **æœ€ç»ˆå»ºè®®: âœ… å¼ºçƒˆæ¨èé‡‡ç”¨**

### **é‡‡ç”¨ç†ç”±:**
1. **å®Œå…¨å…¼å®¹**: ä¸FreqTradeæ¥å£100%å…¼å®¹ï¼Œè¿ç§»æˆæœ¬ä½
2. **æ€§èƒ½ä¼˜åŠ¿**: åŸºäºRustçš„é«˜æ€§èƒ½å›æµ‹å¼•æ“
3. **åŠŸèƒ½å¢å¼º**: æä¾›æ›´å¤šä¼˜åŒ–ç®—æ³•å’Œåˆ†æåŠŸèƒ½
4. **æœªæ¥æ‰©å±•**: æ›´å¥½çš„æ¶æ„è®¾è®¡ï¼Œä¾¿äºåç»­æ‰©å±•
5. **è·¨å¹³å°æ”¯æŒ**: æ”¯æŒå¤šç§èµ„äº§ç±»åˆ«å’Œäº¤æ˜“æ‰€

### **å®æ–½å»ºè®®:**
1. **æ¸è¿›å¼è¿ç§»**: å…ˆåœ¨å°è§„æ¨¡ç­–ç•¥ä¸ŠéªŒè¯
2. **ä¿ç•™å…¼å®¹æ€§**: ä¿æŒFreqTradeé£æ ¼çš„æ¥å£è®¾è®¡
3. **å……åˆ†æµ‹è¯•**: å¯¹æ¯”ä¸¤ä¸ªç³»ç»Ÿçš„ä¼˜åŒ–ç»“æœ
4. **æ–‡æ¡£å®Œå–„**: æä¾›è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—å’Œç¤ºä¾‹

### **é£é™©æ§åˆ¶:**
1. **å¤‡ä»½æ–¹æ¡ˆ**: ä¿ç•™åŸæœ‰FreqTradeç¯å¢ƒä½œä¸ºå¤‡ä»½
2. **ç»“æœéªŒè¯**: å¯¹æ¯”ä¼˜åŒ–ç»“æœçš„ä¸€è‡´æ€§
3. **æ€§èƒ½ç›‘æ§**: ç›‘æ§ç³»ç»Ÿæ€§èƒ½å’Œç¨³å®šæ€§

---

## ğŸ“š **ç›¸å…³æ–‡æ¡£**

- [nautilus_hyperopt.py](./nautilus_hyperopt.py) - æ ¸å¿ƒä¼˜åŒ–ç³»ç»Ÿ
- [nautilus_hyperopt_example.py](./nautilus_hyperopt_example.py) - ä½¿ç”¨ç¤ºä¾‹
- [Nautilus Traderå®˜æ–¹æ–‡æ¡£](https://nautilustrader.io/docs/)
- [FreqTradeè¶…å‚æ•°ä¼˜åŒ–æ–‡æ¡£](https://www.freqtrade.io/en/stable/hyperopt/)

---

**ç»“è®º**: Nautilus Traderè¶…å‚æ•°ä¼˜åŒ–ç³»ç»Ÿåœ¨ä¿æŒä¸FreqTradeå®Œå…¨å…¼å®¹çš„åŸºç¡€ä¸Šï¼Œæä¾›äº†æ›´å¼ºçš„æ€§èƒ½å’Œæ›´ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¼ºçƒˆå»ºè®®é‡‡ç”¨ã€‚
